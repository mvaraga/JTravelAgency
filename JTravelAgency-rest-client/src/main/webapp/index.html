<!DOCTYPE html>
<html lang="en">
<head>
    <title>Noticeboard</title>
    <meta charset="UTF-8">
    <!-- load JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            window.setInterval(updateBoard,1000);
        });
 
        function updateBoard() {
//            $('#board').load('${pageContext.request.contextPath}/board?type=html');
            console.log("updated board");
        }
 
        function sendText() {
            //alert(${pageContext.request.contextPath});
            var first_name = $('#first_name').val();
            var last_name =  $('#last_name').val();
            $.ajax({
                type: 'POST',
                contentType: 'application/json',
                dataType: 'json',
                url: "http://localhost:8081/pa165/websources/customers/",
                data: { 'firstName': first_name, 'lastName' : last_name, 'status' : "REGULAR"},
                success: function (data) {
                    alert('got ' + data);
                }
            })
            .done(function( data ) {
                alert('got ' + data);
            });
        }
    </script>
</head>
<body>
 <div id="board">
    <h1>Noticeboard HTML</h1>
 </div>
 <label for="publish">First name:</label><input id="first_name" type="text" name="first_name" value="" size="30"> </br>
 <label for="publish">Last name:</label><input id="last_name" type="text" name="last_name" value="" size="30">
 <button onclick="sendText();">Publish</button>
</body>
</html>
